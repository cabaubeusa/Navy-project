## Navy. - O Diário Digital (Vanilla JS, Supabase)

Navy. é um projeto de diário ou blog pessoal desenvolvido em **Vanilla JavaScript**, estilizado com **CSS Puro**, e utilizando **Supabase** como backend sem servidor (Serverless). Ele foi projetado para ser um lugar para registrar pensamentos, poemas, composições e outras formas de escrita, oferecendo diferentes estilos visuais de postagem (temas) para cada categoria.

-----

### Funcionalidades Principais

  * **Gerenciamento de Posts:** Criação, visualização e exclusão de entradas (posts).
  * **Categorização:** Posts organizados em categorias temáticas, como `Cartas`, `Poesias`, `Post-its`, etc.
  * **Temas Visuais:** Cada categoria tem um estilo de exibição de postagem único, simulando diferentes formatos de mídia (papel de carta antigo, post-it, poesia minimalista, etc.) usando classes CSS.
  * **Editor Rich-Text Simples:** Utiliza `contentEditable` para permitir formatação básica (negrito, itálico) e inserção de imagens/vídeos.
  * **Design Responsivo:** O layout é otimizado para diferentes tamanhos de tela (desktop e mobile).
  * **Navegação SPANão (Single-Page Application):** A navegação é manipulada por JavaScript (`setView`), proporcionando uma experiência rápida sem recarregamento da página.

-----

### Tecnologias Utilizadas

  * **Frontend:** HTML5, CSS3 (Puro), Vanilla JavaScript (ES6+).
  * **Backend / Banco de Dados:** Supabase (utilizando a API RESTful e chaves de acesso para CRUD).
  * **Ícones:** [Feather Icons](https://feathericons.com/).
  * **Fontes:** Google Fonts (Delius, Inter, Poppins, Roboto, Dancing Script, Parisienne).

-----

### Estrutura de Arquivos

| Arquivo | Descrição |
| :--- | :--- |
| `index.html` | Estrutura principal do HTML, carregamento de fontes, CSS e scripts. |
| `style.css` | Estilos globais, variáveis CSS, classes de layout e definição dos temas de postagem. |
| `script.js` | Lógica da aplicação: gerenciamento de estado (`currentView`), funções de renderização de view, chamadas à API Supabase, e manipuladores de eventos. |

-----

### Configuração e Instalação

Para rodar este projeto localmente, você precisa configurar um banco de dados no Supabase e conectar o frontend a ele.

#### 1\. Configuração do Supabase

1.  Crie um novo projeto no Supabase.

2.  No SQL Editor, crie uma tabela chamada `posts` com a seguinte estrutura:

    ```sql
    CREATE TABLE posts (
      id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
      titulo TEXT,
      conteudo TEXT,
      categoria TEXT NOT NULL,
      dataCriacao TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
    );
    ```

3.  Configure o **Row-Level Security (RLS)**: Desative o RLS ou configure políticas de forma apropriada para permitir operações `SELECT`, `INSERT`, e `DELETE` (para fins de teste, você pode desativar o RLS ou criar políticas que permitam acesso público).

4.  Obtenha suas credenciais:

      * **URL do Projeto:** Encontrada em `Settings > API`.
      * **Chave `anon` (publishable):** Encontrada em `Settings > API`.

#### 2\. Atualizando `script.js`

No topo do arquivo `script.js`, substitua os placeholders da URL e chave do Supabase pelas suas credenciais:

```javascript
const supabaseUrl = 'SUA_URL_SUPABASE_AQUI' 
const supabaseKey = 'SUA_CHAVE_ANON_AQUI' 

const API_HEADERS = {
    // Certifique-se de que as variáveis SUPABASE_URL e SUPABASE_KEY 
    // sejam definidas globalmente ou passadas corretamente.
    // O código original possui um erro aqui, use as variáveis locais:
    apikey: supabaseKey,
    Authorization: `Bearer ${supabaseKey}`
};

// ... O restante do código ...
```

***(Observação: No código original há um pequeno erro de escopo de variáveis. Corrija `SUPABASE_KEY` para `supabaseKey` e `SUPABASE_URL` para `supabaseUrl` dentro das funções ou defina as variáveis globalmente se necessário.)***

#### 3\. Execução Local

1.  Abra o arquivo `index.html` em seu navegador.
2.  Como alternativa, use uma extensão de servidor local (como Live Server no VS Code) para garantir que todas as requisições de API e recursos funcionem corretamente.

-----

### Temas Visuais (Post Styles)

Os temas são aplicados no container do post baseado na categoria, adicionando uma classe específica no `renderSinglePost` do `script.js`:

| Categoria | Classe CSS (Tema) | Efeito Visual |
| :--- | :--- | :--- |
| `senhor-ninguem` | `theme-old-letter` | Simula papel de carta antigo, com linhas e fonte cursiva dramática. |
| `cartas` | `theme-romantic` | Estilo elegante com borda e fonte romântica. |
| `post-its` | `theme-sticky` | Fundo amarelo claro, sombra e ligeira rotação, simulando um post-it. |
| `poesias` | `theme-poetry` | Centraliza o texto e aplica fonte e estilo itálico, ideal para versos. |
| `composicoes` | `theme-minimal` | Linha lateral e fonte limpa, estilo minimalista de anotação. |
| `aleatorios` | (Padrão) | Estilo limpo e padrão do aplicativo. |